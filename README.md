# DeepSeek API æœ¬åœ°æµ‹è¯•å·¥å…·

è¿™æ˜¯ä¸€ä¸ªç”¨äºæœ¬åœ°æµ‹è¯• DeepSeek API çš„å®Œæ•´é¡¹ç›®ï¼ŒåŒ…å«åç«¯æœåŠ¡å™¨å’Œå‰ç«¯æµ‹è¯•ç•Œé¢ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. é…ç½® API Key

1. å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿æ–‡ä»¶ï¼š
```bash
cp .env.example .env
```

2. ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ DeepSeek API Keyï¼š
```
DEEPSEEK_API_KEY=your_actual_api_key_here
```

### 3. è·å– DeepSeek API Key

1. è®¿é—® [DeepSeek å®˜ç½‘](https://platform.deepseek.com/)
2. æ³¨å†Œè´¦å·å¹¶ç™»å½•
3. è¿›å…¥ API Keys é¡µé¢
4. åˆ›å»ºæ–°çš„ API Key
5. å°† API Key å¤åˆ¶åˆ° `.env` æ–‡ä»¶ä¸­

### 4. å¯åŠ¨æœåŠ¡å™¨

```bash
# ç”Ÿäº§æ¨¡å¼
npm start

# å¼€å‘æ¨¡å¼ (è‡ªåŠ¨é‡å¯)
npm run dev
```

### 5. è®¿é—®æµ‹è¯•ç•Œé¢

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3000

## ğŸ“ é¡¹ç›®ç»“æ„

```
deepseek-api-test/
â”œâ”€â”€ server.js          # åç«¯æœåŠ¡å™¨
â”œâ”€â”€ package.json       # é¡¹ç›®é…ç½®
â”œâ”€â”€ .env.example       # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ .env              # ç¯å¢ƒå˜é‡ (éœ€è¦è‡ªå·±åˆ›å»º)
â”œâ”€â”€ public/
â”‚   â””â”€â”€ index.html    # å‰ç«¯æµ‹è¯•ç•Œé¢
â””â”€â”€ README.md         # è¯´æ˜æ–‡æ¡£
```

## ğŸ”§ API ç«¯ç‚¹

### POST /api/chat
å‘é€æ¶ˆæ¯ç»™ DeepSeek AI

**è¯·æ±‚ä½“ï¼š**
```json
{
  "message": "ä½ çš„é—®é¢˜",
  "model": "deepseek-chat"
}
```

**å“åº”ï¼š**
```json
{
  "success": true,
  "response": "AI çš„å›å¤",
  "usage": {
    "prompt_tokens": 10,
    "completion_tokens": 20,
    "total_tokens": 30
  },
  "model": "deepseek-chat"
}
```

### GET /api/models
è·å–å¯ç”¨çš„æ¨¡å‹åˆ—è¡¨

### GET /api/health
å¥åº·æ£€æŸ¥ç«¯ç‚¹

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

- âœ… æ”¯æŒ DeepSeek å¤šç§æ¨¡å‹
- âœ… ç¾è§‚çš„ç°ä»£åŒ–ç•Œé¢
- âœ… å®æ—¶çŠ¶æ€ç›‘æ§
- âœ… Token ä½¿ç”¨ç»Ÿè®¡
- âœ… ç¤ºä¾‹é—®é¢˜å¿«é€Ÿå¡«å…¥
- âœ… å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯
- âœ… é”™è¯¯å¤„ç†å’Œç”¨æˆ·å‹å¥½æç¤º
- âœ… æ”¯æŒ Ctrl+Enter å¿«é€Ÿå‘é€

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

1. **ä¸è¦å°† API Key æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ**
2. `.env` æ–‡ä»¶å·²åœ¨ `.gitignore` ä¸­æ’é™¤
3. ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨ HTTPS
4. å®šæœŸè½®æ¢ API Key

## ğŸ› ï¸ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹ç«¯å£
åœ¨ `.env` æ–‡ä»¶ä¸­æ·»åŠ ï¼š
```
PORT=8080
```

### æ·»åŠ æ–°æ¨¡å‹
åœ¨ `public/index.html` çš„æ¨¡å‹é€‰æ‹©å™¨ä¸­æ·»åŠ æ–°é€‰é¡¹ï¼š
```html
<option value="new-model">æ–°æ¨¡å‹åç§°</option>
```

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### é€šè¿‡ curl æµ‹è¯• API

```bash
curl -X POST http://localhost:3000/api/chat \
  -H "Content-Type: application/json" \
  -d '{
    "message": "ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹è‡ªå·±",
    "model": "deepseek-chat"
  }'
```

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **API Key é”™è¯¯**
   - æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„ API Key æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤ API Key æœ‰æ•ˆä¸”æœ‰è¶³å¤Ÿä½™é¢

2. **ç«¯å£è¢«å ç”¨**
   - ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„ PORT å€¼
   - æˆ–è€…åœæ­¢å ç”¨ç«¯å£çš„å…¶ä»–ç¨‹åº

3. **ç½‘ç»œè¿æ¥é—®é¢˜**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - ç¡®è®¤é˜²ç«å¢™è®¾ç½®

### æŸ¥çœ‹æ—¥å¿—
æœåŠ¡å™¨ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºè¯¦ç»†çš„è¯·æ±‚å’Œé”™è¯¯æ—¥å¿—ï¼Œä¾¿äºè°ƒè¯•ã€‚

## ğŸ“š ç›¸å…³é“¾æ¥

- [DeepSeek API æ–‡æ¡£](https://api-docs.deepseek.com/zh-cn/)
- [DeepSeek å®˜ç½‘](https://platform.deepseek.com/)
- [Node.js å®˜ç½‘](https://nodejs.org/)

## ğŸ“„ è®¸å¯è¯

MIT License